'use client'
import { Button } from "@/shared/ui/button";
import { Input } from "@/shared/ui/input";
import { Label } from "@/shared/ui/label";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/shared/ui/tabs";
import { Tiptap } from "@/shared/ui/tiptap";
import { Controller, useForm } from "react-hook-form";

export const CreateLesson = () => {
    const { control, handleSubmit,
        register,
        watch,
        getValues,
        formState: { errors },
    } = useForm()
    const onCreate = (data: any) => {
        console.log(data)
    };

    return <form onSubmit={handleSubmit(onCreate)} className="flex flex-col gap-2">

        <Button className="w-fit">Создать</Button>
        <Tabs defaultValue="RU">
            <TabsList className="w-1/2 mx-auto">
                <TabsTrigger value="RU">RU</TabsTrigger>
                <TabsTrigger value="KZ">KZ</TabsTrigger>
            </TabsList>
            <TabsContent value="RU" className="flex flex-col gap-2">
                <Input {...register('title_ru')} label="Название" />
                <Label className="ml-1.5">Содержание</Label>
                <Controller control={control} name={'content_ru'} render={({ field: { value, onChange } }) => <Tiptap value={value} onChange={(value) => onChange(value)} />} />
            </TabsContent>
            <TabsContent value="KZ" className="flex flex-col gap-2">
                <Input {...register('title_kz')} label="Название" />
                <Label className="ml-1.5">Содержание</Label>
                <Controller control={control} name={'content_kz'} render={({ field: { value, onChange } }) => <Tiptap value={value} onChange={(value) => onChange(value)} />} />
            </TabsContent>
        </Tabs>
    </form>


}
